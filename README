$Id: README,v 1.16 2007-09-23 18:53:48 ensonic Exp $

= quick info =
Please turn you browser to http://www.buzztard.org to learn what this project
is about. Buzztard is free software and distributed under the LGPL.

= intro =
The libbml is a library that loads buzz machines from the windows music
composer buzz, so that Linux apps can use them.
This lib is either using the libavifile wrapper or the libfst one.
See original README in README.libfst for the latter.

= building =
Please note that this library only works on x86 systems. On 64bit systems you
can build a 32 bit binary by running 
CFLAGS="-m32" CASFLAGS="-m32" make
.

= installing =
The emulation uses some parts of wine at runtime. It needs kernel32.dll, e.g.
/usr/lib/wine/kernel32.dll.so, MFC42.DLL, MSVCRT.DLL.
The original windows dll should also work.

Then you need to copy the all *.dll libraries from a windows buzz installation
to your LD_LIBARY_PATH. We recommend to copy them to buzztard-prefix/lib.

Now you need to fix up some library names.
  ln -s Dsplib.dll dsplib.dll
  ln -s Nblib.dll nblib.dll
  ln -s "Ninereeds Dsplib.dll" "Ninereeds DSPLIB.dll"
  ln -s MSVCRT.DLL MSVCRT.dll

Next copy the machines. You can e.g. just copy the whole Gear folder to
buzztard-prefix/lib as well.
Then export this path, e.g.:
  export BML_PATH=$HOME/buzztard/lib/Gear/Effects:$HOME/buzztard/lib/Gear/Generators
You might need to fix some machine names (e.g. names with '?' in them).

= usage =
For testing, create a folder 'machines' and put some original buzz machines
in there. After building invoke :
  env LD_LIBRARY_PATH="./bml" ./bml/bmltest_info ./machines/mymachine.dll
or alternatively run the testmachine.sh script to probe a whole directory with
machines.

= problems =
== /dev/zero needs to be executable ==
make sure your /dev/zero is executable (needed for mmap() )

== multithreading ==
before calling lib code in multithreaded environments we should call:
Check_FS_Segment();
